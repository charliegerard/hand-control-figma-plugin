<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.js"></script>
<script>
  var socket = io("ws://localhost:8080", { transports: ["websocket"] });
</script>

<script>
  // Re-center the elements on the viewport
  socket.on("pan", (msg) => {
    parent.postMessage({ pluginMessage: { type: "pan", msg } }, "*");
  });

  // Track when start creating an element
  socket.on("event", (msg) => {
    parent.postMessage({ pluginMessage: { type: "event", msg } }, "*");
  });

  // Zoom zoom
  socket.on("zoom", (msg) => {
    parent.postMessage({ pluginMessage: { type: "zoom", msg } }, "*");
  });

  // Create an element
  socket.on("create-rect", (msg) => {
    parent.postMessage({ pluginMessage: { type: "create-rect", msg } }, "*");
  });
</script>
